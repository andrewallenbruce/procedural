x$definitions$definition[1])),
locations = cells_body(columns = label, rows = 3)) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
x$definitions$definition[2])),
locations = cells_body(columns = label, rows = 5)) |>
tab_options(
table.width = pct(75),
heading.title.font.size = px(18),
heading.subtitle.font.size = px(14),
heading.align = "left",
table.font.color = "#0B0B45",
footnotes.font.size = px(12),
column_labels.hidden = TRUE)
x
x <- pcs("5A02210")
x
definitions(section = "5", axis = "3", col = "label", search = "Assistance")
definitions(section = "5", axis = "3", search = "0")
devtools::load_all(".")
pcs("5A02210")
x <- "5A02210"
x |>
.section() |>
.system() |>
.operation()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach() |>
.device() |>
.qualifier()
x |>
.section() |>
.system() |>
.operation() |>
.part()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach()
x <- x |>
.section() |>
.system() |>
.operation() |>
.part()
switch(
substr(x$input, 1, 1),
"0" = ,
"1" = ,
"2" = ,
"3" = ,
"4" = ,
"7" = ,
"8" = ,
"9" = ,
"F" = ,
"X" = vctrs::vec_rbind(x$definitions,
definitions(section = substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE)
vctrs::vec_rbind(x$definitions,
vctrs::vec_rbind(x$definitions,
definitions(section = substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE))
definitions(section = substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE)
definitions() |> dplyr::count(section)
definitions(axis = "5") |> dplyr::count(section)
devtools::load_all(".")
pcs("F14Z01Z")
pcs("0LQV3ZZ")
pcs("5A02210")
devtools::load_all(".")
pcs("5A02210")
pcs("0016070")
x <- "5A02210"
definitions(section = substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE)
x <- checks("5A02210")
definitions(section = substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE)
definitions(section = substr(x$input, 1, 1),
axis = "3",
col = "value",
search = substr(x$input, 3, 3),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE)
definitions(section = substr(x$input, 1, 1),
axis = "3",
col = "value",
search = substr(x$input, 3, 3),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE) |>
data.table::as.data.table()
x <- checks("0016070")
definitions(section = substr(x$input, 1, 1),
axis = "3",
col = "value",
search = substr(x$input, 3, 3),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE) |>
data.table::as.data.table()
definitions(section = substr(x$input, 1, 1),
axis = "3",
col = "value",
search = substr(x$input, 3, 3),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE) |>
tidytable::as_tidytable()
devtools::load_all(".")
use_r("cli")
devtools::load_all(".")
x <- checks("0016070")
x |>
.section()
x |>
.section() |>
.system()
x |>
.section() |>
.system() |>
.operation()
stringfish::sf_nchar("0016070")
nchar("0016070")
stringfish::convert_to_sf(letters)
devtools::load_all(".")
x |>
.section()
pcs()
nchar(NULL)
stringfish::sf_nchar(NULL)
devtools::load_all(".")
pcs()
pcs("0")
pcs("01")
pcs("012")
pcs("012Y")
pcs("012YX")
pcs("012YXY")
pcs("012YXYZ")
devtools::load_all(".")
pcs("012YXYZ")
devtools::load_all(".")
pcs("012YXYZ")
devtools::load_all(".")
x |>
.section()
x |>
.section() |>
.system()
x |>
.section() |>
.system() |>
.operation()
x |>
.section() |>
.system() |>
.operation() |>
.part()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach() |>
.device()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach() |>
.device() |>
.qualifier()
pcs("0LQV3ZZ") |> data.table::as.data.table()
vctrs::vec_rbind(x$definitions,
definitions(section = substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE))
vctrs::vec_rbind(x$definitions,
definitions(section = stringfish::substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE))
vctrs::vec_rbind(x$definitions,
definitions(section = stringfish::sf_substr(x$input, 1, 1),
axis = "5",
col = "value",
search = substr(x$input, 5, 5),
# col = "label",
# search = delister(x$head[5, 4])
display = TRUE))
devtools::load_all(".")
x |>
.section()
x |>
.section() |>
.system()
x
get_pin("tables_rows") |>
dplyr::filter(system == substr(x$input, 1, 2))
get_pin("tables_rows") |>
vctrs::vec_slice(system == substr(x$input, 1, 2))
get_pin("tables_rows") |>
vctrs::vec_slice(.data$system == substr(x$input, 1, 2))
select <- get_pin("tables_rows")
select
# Filter to system
# TODO
select <- get_pin("tables_rows") |>
dplyr::filter(system == stringfish::sf_substr(x$input, 1, 2)) |>
dplyr::select(code_2, name_3:rows)
select
x$select
select
vctrs::vec_slice(
select,
select$table == stringfish::sf_substr(x$input, 1, 3)
) |>
dplyr::select(name_4:rows)
vctrs::vec_slice(
select,
select$table == stringfish::sf_substr(x$input, 1, 3)
)[name_4:rows]
vctrs::vec_slice(
select,
select$table == stringfish::sf_substr(x$input, 1, 3)
)['name_4:rows']
devtools::load_all(".")
x |>
.section()
x |>
.section() |>
.system()
x |>
.section() |>
.system() |>
.operation()
x |>
.section() |>
.system() |>
.operation() |>
.part()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach()
devtools::load_all(".")
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach()
x <- x |>
.section() |>
.system() |>
.operation() |>
.part()
as.data.frame(x$select) |> split(x$select$axis)
as.data.frame(x$select)
as.data.frame(x$select) |> split(x$select$axis)
pcs()
pcs("x")
pcs("x0")
pcs("x05")
pcs("x051")
pcs("x0513")
pcs("x05132")
pcs("x051329")
use_tidy_description()
devtools::load_all(".")
pak::pak("ACDIVOCATech/bulletchartr")
devtools::load_all(".")
systems
systems()
get_pin("tables_rows")
x <- "F14Z01Z"
devtools::load_all(".")
x |>
.section()
x |>
.section() |>
.system()
x |>
.section() |>
.system() |>
.operation()
x |>
.section() |>
.system() |>
.operation() |>
.part()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach() |>
.device()
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach() |>
.device() |>
.qualifier()
devtools::load_all(".")
x |>
.section() |>
.system() |>
.operation() |>
.part() |>
.approach() |>
.device()
devtools::load_all(".")
pcs("5A02210")
devtools::load_all(".")
pcs("5A02210")
devtools::load_all(".")
pcs("5A02210")
pcs("5A0221")
includes(axis = "4") |>
dplyr::count(section, label) |>
dplyr::select(section, label) |>
tidyr::nest(labels = c(label)) |>
dplyr::mutate(labels = purrr::map(labels, ~ .x$label)) |>
dplyr::mutate(labels = purrr::map_chr(labels, ~ paste0("'", .x, "'", collapse = ", ")),
section = purrr::map_chr(section, ~ paste0("'", .x, "'", collapse = ", "))) |>
dplyr::mutate(labels = paste("c(", labels, ")", sep = ""),
section = paste0(section, " =")) |>
tidyr::unite("includes", section, labels, sep = " ")
definitions(axis = "3") |>
dplyr::count(section, value) |>
dplyr::select(section, value) |>
tidyr::nest(values = c(value)) |>
dplyr::mutate(values = purrr::map(values, ~ .x$value)) |>
dplyr::mutate(values = purrr::map_chr(values, ~ paste0("'", .x, "'", collapse = ", ")),
section = purrr::map_chr(section, ~ paste0("'", .x, "'", collapse = ", "))) |>
dplyr::mutate(values = paste("c(", values, ")", sep = ""),
section = paste0(section, " =")) |>
tidyr::unite("definition", section, values, sep = " ")
list_pins()
devtools::load_all(".")
definitions(search = "Fluoroscopy")
definitions()
definitions(section = "B", search = "Fluoroscopy", col = "definition")
definitions(section = "B")
definitions(section = "B", col = "label", search = "fluoro")
definitions(section = "0", axis = "3", col = "label", search = "Drainage")
definitions(col = "label", search = "Drainage")
definitions(col = "label", search = "drainage")
definitions(col = "label", search = "drain")
definitions(col = "label", search = "drain", display = TRUE)
definitions(section = "B", col = "label", search = "fluoro", display = TRUE)
get_pin("tables_order")[c('order', 'code', 'table', 'row')]
install.packages("systemfonts")
library(procedural)
library(fuimus)
library(dplyr)
library(gt)
library(htmltools)
x$axes |>
gt(rowname_col = "axis") |>
opt_table_font(font = google_font(name = "Rubik")) |>
cols_align(align = "center", columns = c(axis, value)) |>
tab_style(style = list(cell_fill(color = "lightgray",
alpha = 0.5),
cell_text(weight = "bold")),
locations = cells_body(columns = value)) |>
opt_all_caps() |>
tab_header(title = html("<b>ICD-10-PCS 2024</b>"),
subtitle = html(paste0("<b>", x$code, ": </b>", x$description))) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
fuimus::delister(x$definitions[1, 6]))),
locations = cells_body(columns = label, rows = 3)) |>
tab_footnote(
footnote = html(paste("<b>Includes:</b>", fuimus::delister(x$includes[1, 5]))),
locations = cells_body(columns = label, rows = 4)) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
fuimus::delister(x$definitions[2, 6]))),
locations = cells_body(columns = label, rows = 5)) |>
tab_options(
table.width = pct(75),
heading.title.font.size = px(20),
heading.subtitle.font.size = px(14),
heading.align = "left",
table.font.color = "#0B0B45",
footnotes.font.size = px(12))
x <- pcs("0016070")
x$axes |>
gt(rowname_col = "axis") |>
opt_table_font(font = google_font(name = "Rubik")) |>
cols_align(align = "center", columns = c(axis, value)) |>
tab_style(style = list(cell_fill(color = "lightgray",
alpha = 0.5),
cell_text(weight = "bold")),
locations = cells_body(columns = value)) |>
opt_all_caps() |>
tab_header(title = html("<b>ICD-10-PCS 2024</b>"),
subtitle = html(paste0("<b>", x$code, ": </b>", x$description))) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
fuimus::delister(x$definitions[1, 6]))),
locations = cells_body(columns = label, rows = 3)) |>
tab_footnote(
footnote = html(paste("<b>Includes:</b>", fuimus::delister(x$includes[1, 5]))),
locations = cells_body(columns = label, rows = 4)) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
fuimus::delister(x$definitions[2, 6]))),
locations = cells_body(columns = label, rows = 5)) |>
tab_options(
table.width = pct(75),
heading.title.font.size = px(20),
heading.subtitle.font.size = px(14),
heading.align = "left",
table.font.color = "#0B0B45",
footnotes.font.size = px(12))
x
pcs("0016070")
fuimus::delister(x$definitions[1, 6])
fuimus::delister(x$definitions[1, 2])
x$axes |>
gt(rowname_col = "axis") |>
opt_table_font(font = google_font(name = "Rubik")) |>
cols_align(align = "center", columns = c(axis, value)) |>
tab_style(style = list(cell_fill(color = "lightgray",
alpha = 0.5),
cell_text(weight = "bold")),
locations = cells_body(columns = value)) |>
opt_all_caps() |>
tab_header(title = html("<b>ICD-10-PCS 2024</b>"),
subtitle = html(paste0("<b>", x$code, ": </b>", x$description))) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
fuimus::delister(x$definitions[1, 2]))),
locations = cells_body(columns = label, rows = 3)) |>
tab_footnote(
footnote = html(paste("<b>Includes:</b>", fuimus::delister(x$includes[1, 5]))),
locations = cells_body(columns = label, rows = 4)) |>
tab_footnote(
footnote = html(paste0("<b>Definition:</b> ",
fuimus::delister(x$definitions[2, 2]))),
locations = cells_body(columns = label, rows = 5)) |>
tab_options(
table.width = pct(75),
heading.title.font.size = px(20),
heading.subtitle.font.size = px(14),
heading.align = "left",
table.font.color = "#0B0B45",
footnotes.font.size = px(12))
build_rmd("README.Rmd")
devtools::load_all(".")
rows("00X")
