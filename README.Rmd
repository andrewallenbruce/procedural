---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse  = FALSE,
  echo      = TRUE,
  message   = TRUE, 
  warning   = FALSE,
  error     = TRUE,
  comment   = "#>",
  dpi       = 600, 
  out.width = "100%"
  )
```

# procedural

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![Codecov test coverage](https://codecov.io/gh/andrewallenbruce/procedural/branch/main/graph/badge.svg)](https://app.codecov.io/gh/andrewallenbruce/procedural?branch=main)
[![R-CMD-check](https://github.com/andrewallenbruce/procedural/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/andrewallenbruce/procedural/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

## :package: Installation

You can install __`procedural`__ from [GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("andrewallenbruce/procedural")
```

## :beginner: Usage

```{r echo=TRUE, message=FALSE, warning=FALSE}
library(procedural)
library(dplyr)
library(gt)
```

## Sections

```{r}
section()[c('code', 'label')] |> 
  gt() |> 
  opt_table_font(font = google_font(name = "Rubik")) |> 
  cols_align(align = "center", columns = code) |>
  tab_style(style = list(cell_fill(color = "lightgray", alpha = 0.5), 
                         cell_text(weight = "bold")), 
            locations = cells_body(columns = code)) |> 
  opt_all_caps() |> 
  opt_align_table_header(align = "left") |>
  tab_header(title = md("**ICD-10-PCS** Sections"))
```


## Systems

```{r}
system() |> 
  gt()
```

<br>

## Tables

```{r}
table("00X") |> tidyr::unnest(codes)
```


## Medical and Surgical

```{r}
bypass <- definitions() |> 
  dplyr::filter(code == "0", axis == "3", label == "Bypass") |> 
  dplyr::select(label, definition, explanation, includes)

code <- pcs("0016070")

x <- dplyr::left_join(code, bypass, by = dplyr::join_by(label))
```


```{r}
code |> 
  gt(rowname_col = "axis") |> 
  opt_table_font(font = google_font(name = "Rubik")) |> 
  cols_align(align = "center", columns = c(axis, code)) |>
  tab_style(style = list(cell_fill(color = "lightgray", alpha = 0.5), 
                         cell_text(weight = "bold")), 
            locations = cells_body(columns = code)) |> 
  opt_all_caps() |> 
  opt_align_table_header(align = "left") |>
  tab_header(title = html("<b>ICD-10-PCS</b> 2024<hr>"),
             subtitle = html("<small>SECTION:</small> <b>0</b> Medical and Surgical<br>
                              <small>SYSTEM:</small> <b>0</b> Central Nervous System and Cranial Nerves<br>
                              <small>OPERATION:</small> <b>1</b> Bypass<br><br>")) |> 
  sub_missing(missing_text = "")
```

<br>

### Obstetrics

```{r}
pcs("10D20ZZ")
```

<br>

### Placement

```{r}
pcs("2W0UX0Z")
```

<br>

### Administration

```{r}
pcs("3E1938X")
```

<br>

### Measurement and Monitoring

```{r}
pcs("4B01XVZ")
```

<br>

### Extracorporeal or Systemic Assistance and Performance

```{r}
pcs("5A02110")
```

<br>

### Extracorporeal or Systemic Therapies

```{r}
pcs("6A0Z0ZZ")
```

<br>

### Osteopathic

```{r}
pcs("7W00X0Z")
```

<br>

### Other Procedures

```{r}
pcs("8C01X6J")
```

<br>

### Chiropractic

```{r}
pcs("9WB0XBZ")
```

<br>

### Imaging

```{r}
pcs("B00B0ZZ")
```

<br>

### Nuclear Medicine

```{r}
pcs("C0101ZZ")
```
<br>

### Radiation Therapy

```{r}
pcs("DG22DZZ")
```


<br>

### Physical Rehabilitation and Diagnostic Audiology

```{r}
pcs("F14Z01Z")
```

<br>

### Mental Health

```{r}
pcs("GZ10ZZZ")
```

<br>

### Substance Abuse Treatment

```{r}
pcs("HZ96ZZZ")
```

<br>

### New Technology

```{r}
pcs("XY0YX37")
```

<br>

------------------------------------------------------------------------------

## :balance_scale: Code of Conduct

Please note that the `provider` project is released with a [Contributor Code of Conduct](https://andrewallenbruce.github.io/procedural/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.

<br>

## :classical_building: Governance

This project is primarily maintained by [Andrew Bruce](https://github.com/andrewallenbruce). Other authors may occasionally assist with some of these duties.
